:root{
  --bg:#f6fbff;
  --card:#ffffff;
  --primary:#2f80ed;
  --soft:#e9f2ff;
  --muted:#7b8a94;
  --accent:#43a047;
  --danger:#e74c3c;
  --radius:14px;
  --pad:16px;
  font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
}
*{box-sizing:border-box}
html,body,#app{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:#123;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Topbar */
.topbar{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  background:linear-gradient(90deg,var(--card),#fbfdff);
  box-shadow:0 2px 8px rgba(16,24,40,0.06);
}
.brand{font-weight:700;color:var(--primary);font-size:18px}
.user-icon{width:36px;height:36px;border-radius:50%;background:var(--soft);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--primary);cursor:pointer}

/* screens */
.screens{padding:20px;max-width:720px;margin:18px auto 96px;border-radius:10px}
.screen{display:none}
.screen.active{display:block}

/* Home */
.home-card{background:var(--card);padding:22px;border-radius:var(--radius);box-shadow:0 6px 18px rgba(16,24,40,0.06)}
.home-card h1{margin:0 0 8px;font-size:22px}
.home-card p{color:var(--muted);margin:0 0 16px}
.primary{background:var(--primary);color:white;padding:10px 14px;border-radius:10px;border:0;font-weight:600;cursor:pointer}
.home-stats{display:flex;gap:12px;margin-top:16px}
.stat-card{flex:1;background:var(--soft);padding:12px;border-radius:10px;display:flex;align-items:center;gap:10px}
.stat-icon{font-size:22px}
.stat-text{font-size:14px;color:var(--muted)}

/* Upload */
.upload-card{background:var(--card);padding:20px;border-radius:14px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
.upload-drop{border:2px dashed #d7eafc;border-radius:12px;padding:24px;text-align:center;position:relative}
.camera-icon{font-size:36px}
#fileInput{position:absolute;inset:0;opacity:0;cursor:pointer}
.upload-text{color:var(--muted);margin-top:8px}
.hint{color:var(--muted);margin-top:10px;font-size:13px}

/* Result */
.result-card{background:var(--card);padding:18px;border-radius:14px;display:flex;gap:16px;align-items:center;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
.food-image{width:140px;height:110px;background:#f3f7fb;border-radius:10px;display:flex;align-items:center;justify-content:center}
.result-list{flex:1}
.result-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f3f6}

/* Popup */
.popup{position:fixed;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(10,20,40,0.35)}
.popup.hidden{display:none}
.popup-content{background:var(--card);padding:18px;border-radius:12px;max-width:420px;width:90%;text-align:left;box-shadow:0 12px 30px rgba(16,24,40,0.18)}
.popup-title{font-weight:700;color:var(--danger);margin-bottom:8px}
.popup-text{color:var(--muted);margin-bottom:12px}
.popup-actions{display:flex;gap:8px;justify-content:flex-end}
#ignoreBtn{
  background:transparent;
  border:1px solid var(--soft);
  color:var(--muted);
  font-weight:600;
  padding:10px 14px;
  border-radius:10px;
  cursor:pointer;
}

/* Log / Meals */
.meals-card{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 12px rgba(10,20,40,0.04)}
.tabs{display:flex;gap:8px;margin-bottom:12px}
.tab-btn{flex:1;padding:8px;border-radius:10px;border:1px solid #e6eefc;background:transparent;cursor:pointer}
.tab-btn.active{background:var(--primary);color:white;border:0}
.meal-day{margin-bottom:12px}
.meal-row{display:flex;justify-content:space-between;padding:8px;border-radius:8px;background:#fbfdff;margin-bottom:6px}

/* profile */
.profile-card{display:flex;gap:12px;align-items:center;margin-bottom:12px}
.avatar{width:64px;height:64px;border-radius:12px;background:var(--soft);display:flex;align-items:center;justify-content:center;font-weight:700}
.profile-info{font-size:14px}
.pname{font-weight:700}

/* weight (Lama) */
.weight-summary{display:flex;gap:12px;margin:12px 0}
.wbox{flex:1;background:var(--card);padding:12px;border-radius:12px;text-align:center;box-shadow:0 6px 12px rgba(10,20,40,0.04)}
.wlabel{color:var(--muted);font-size:13px}
.wvalue{font-weight:700;margin-top:6px}
.weight-card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 12px rgba(10,20,40,0.04)}
.weight-card label{display:block;margin-top:8px;color:var(--muted)}
.weight-card input{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eefc;margin-top:6px}

/* Gaya Baharu untuk Skrin Berat (weight) */
.weight-summary-header{
    background:var(--primary);
    color:white;
    padding:var(--pad);
    border-radius:var(--radius);
    margin-bottom:12px;
    text-align:center;
}
.header-current{
    background:rgba(255,255,255,0.15);
    padding:16px 20px;
    border-radius:12px;
    margin-bottom:15px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
}
.wvalue-large{
    font-size:32px;
    font-weight:700;
    margin-top:4px;
}
.wlabel{
    color:rgba(255,255,255,0.8); /* Ubah warna label untuk header */
    font-size:14px;
}
.header-meta-row{
    display:flex;
    justify-content:space-around;
    gap:20px;
}
.wbox-meta{
    flex:1;
}
.wbox-meta .wlabel{
    font-size:13px;
    color:rgba(255,255,255,0.7);
}
.wbox-meta .wvalue{
    font-size:18px;
    font-weight:600;
    margin-top:4px;
}
.weight-summary-calcs{
    display:flex;
    justify-content:space-between;
    color:var(--muted);
    font-size:13px;
    padding:0 5px;
}

/* history */
.history-list{background:var(--card);padding:10px;border-radius:12px;box-shadow:0 6px 12px rgba(10,20,40,0.04)}
.history-row{display:flex;justify-content:space-between;padding:10px;border-bottom:1px solid #f1f4f8}
.history-row:last-child{border-bottom:0}
/* Gaya Ikon Sejarah Berat */
.history-row .weight-delta-icon{
    font-weight:700;
}
.history-row .icon-up{color:var(--danger)} /* Naik: Merah */
.history-row .icon-down{color:var(--accent)} /* Turun: Hijau */
.history-row .icon-nochange{color:var(--muted)} /* Sama: Kelabu */


/* bottom nav */
.bottombar{position:fixed;left:0;right:0;bottom:0;height:72px;background:linear-gradient(90deg,var(--card),#fff);display:flex;align-items:center;justify-content:center;gap:18px;padding:0 20px;box-shadow:0 -6px 18px rgba(16,24,40,0.06)}
.nav-btn{width:56px;height:56px;border-radius:12px;border:0;background:#f3f7fb;font-size:20px;cursor:pointer}
.nav-btn.active{background:var(--primary);color:white}

/* toast */
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:92px;background:#121212;color:white;padding:10px 14px;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.2)}
.hidden{display:none}

/* Utilitas */
.m-t-10{margin-top:10px}
.m-b-10{margin-bottom:10px}
.text-center{text-align:center}

/* responsive */
@media(min-width:900px){
  .screens{max-width:900px}
}

/* Dark Mode support using prefers-color-scheme */
@media (prefers-color-scheme: dark) {
  :root{
    --bg:#121212;
    --card:#1f1f1f;
    --primary:#79aef7; /* Primary yang lebih cerah untuk kontras */
    --soft:#303030;
    --muted:#a0a0a0;
    --accent:#64dd17; /* Hijau cerah */
    --danger:#f76f63; /* Merah cerah */
  }
  body{
    color: #f1f1f1;
  }
  /* Overrides untuk elemen tertentu */
  .topbar{
    background:linear-gradient(90deg,var(--card),#292929);
    box-shadow:0 2px 8px rgba(0,0,0,0.3);
  }
  .brand{color:var(--primary)}
  .user-icon{background:var(--soft);color:var(--primary)}
  .home-card, .upload-card, .result-card, .meals-card, .weight-card, .history-list{
    box-shadow:0 6px 18px rgba(0,0,0,0.3);
  }
  .upload-drop{border:2px dashed #3a4a5c}
  .result-row{border-bottom:1px solid #333}
  .food-image{background:#292929}
  .meal-row{background:#292929}
  .bottombar{
    background:linear-gradient(90deg,var(--card),#292929);
    box-shadow:0 -6px 18px rgba(0,0,0,0.3);
  }
  .nav-btn{background:#303030;color:#f1f1f1}
  .nav-btn.active{background:var(--primary);color:#1f1f1f}
  
  .weight-summary-header{
    background:linear-gradient(135deg, #1b3d68, #2f80ed); /* Primary gelap sedikit */
  }
  .header-current{
    background:rgba(0,0,0,0.2);
  }
  .wlabel{
    color:rgba(255,255,255,0.8);
  }
  .history-row .icon-up{color:var(--danger)} 
  .history-row .icon-down{color:var(--accent)}
}